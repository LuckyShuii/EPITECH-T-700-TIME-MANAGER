definitions:
  handler.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
      username:
        type: string
    type: object
  model.BreakUpdate:
    properties:
      is_breaking:
        type: boolean
      work_session_uuid:
        type: string
    type: object
  model.BreakUpdateResponse:
    properties:
      end_time:
        type: string
      start_time:
        type: string
      status:
        type: string
      success:
        type: boolean
    type: object
  model.UserCreate:
    properties:
      email:
        type: string
      first_name:
        type: string
      last_name:
        type: string
      password:
        description: Ignored by GORM, used only for input
        type: string
      password_hash:
        type: string
      phone_number:
        type: string
      roles:
        items:
          type: string
        type: array
      username:
        type: string
      uuid:
        type: string
    type: object
  model.UserMeJWT:
    properties:
      email:
        type: string
      first_name:
        type: string
      last_name:
        type: string
      phone_number:
        type: string
      roles:
        items:
          type: string
        type: array
      user_uuid:
        type: string
      username:
        type: string
    type: object
  model.UserRead:
    properties:
      created_at:
        type: string
      email:
        type: string
      first_name:
        type: string
      last_name:
        type: string
      phone_number:
        type: string
      roles:
        items:
          type: string
        type: array
      updated_at:
        type: string
      username:
        type: string
      uuid:
        type: string
    type: object
  model.UserStatusUpdatePayload:
    properties:
      status:
        example: active
        type: string
      user_uuid:
        example: e1234abc-5678-90de-f123-4567890abcde
        type: string
    type: object
  model.UserUUIDPayload:
    properties:
      user_uuid:
        example: e1234abc-5678-90de-f123-4567890abcde
        type: string
    type: object
  response.MessageResponse:
    properties:
      message:
        example: logged in successfully
        type: string
    type: object
  response.UserCreatedResponse:
    properties:
      message:
        example: user registered successfully
        type: string
    type: object
  response.UserDeletedResponse:
    properties:
      message:
        example: user deleted successfully
        type: string
    type: object
  response.UserStatusUpdatedResponse:
    properties:
      message:
        example: user status updated successfully
        type: string
    type: object
info:
  contact: {}
paths:
  /auth/login:
    post:
      consumes:
      - application/json
      description: Authenticates a user via email or username and returns a JWT cookie
        on success.
      parameters:
      - description: Login credentials
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handler.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: logged in successfully
          schema:
            $ref: '#/definitions/response.MessageResponse'
      summary: Login a user
      tags:
      - Auth
  /auth/logout:
    post:
      consumes:
      - application/json
      description: Clears the JWT cookie and invalidates the user's session.
      produces:
      - application/json
      responses:
        "200":
          description: Logout successful
          schema:
            $ref: '#/definitions/response.MessageResponse'
      security:
      - BearerAuth: []
      summary: Logout the current user
      tags:
      - Auth
  /auth/me:
    get:
      consumes:
      - application/json
      description: Retrieves information about the currently logged-in user based
        on the JWT token.
      produces:
      - application/json
      responses:
        "200":
          description: Current user information
          schema:
            $ref: '#/definitions/model.UserMeJWT'
      security:
      - BearerAuth: []
      summary: Get current user info
      tags:
      - Auth
  /users:
    get:
      description: "Returns a list of all registered users. \U0001F512 Requires role:
        **admin**"
      produces:
      - application/json
      responses:
        "200":
          description: List of users retrieved successfully
          schema:
            items:
              $ref: '#/definitions/model.UserRead'
            type: array
      security:
      - BearerAuth: []
      summary: Get all users
      tags:
      - Users
  /users/delete:
    delete:
      consumes:
      - application/json
      description: "Deletes a user by their UUID. \U0001F512 Requires role: **admin**"
      parameters:
      - description: User UUID payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.UserUUIDPayload'
      produces:
      - application/json
      responses:
        "200":
          description: User deleted successfully
          schema:
            $ref: '#/definitions/response.UserDeletedResponse'
      security:
      - BearerAuth: []
      summary: Delete a user
      tags:
      - Users
  /users/register:
    post:
      consumes:
      - application/json
      description: "Creates a new user with the provided information. \U0001F512 Requires
        role: **admin**"
      parameters:
      - description: User creation payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.UserCreate'
      produces:
      - application/json
      responses:
        "201":
          description: User registered successfully
          schema:
            $ref: '#/definitions/response.UserCreatedResponse'
      security:
      - BearerAuth: []
      summary: Register a new user
      tags:
      - Users
  /users/update-status:
    put:
      consumes:
      - application/json
      description: "Updates a user's status (active, disabled, or pending). \U0001F512
        Requires role: **admin**"
      parameters:
      - description: User status update payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.UserStatusUpdatePayload'
      produces:
      - application/json
      responses:
        "200":
          description: User status updated successfully
          schema:
            $ref: '#/definitions/response.UserStatusUpdatedResponse'
      security:
      - BearerAuth: []
      summary: Update user status
      tags:
      - Users
  /work-session/update-breaking:
    post:
      consumes:
      - application/json
      description: "Starts or ends a break for the current work session depending
        on the value of `is_breaking`. \U0001F512 Requires role: **any**"
      parameters:
      - description: Break update payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.BreakUpdate'
      produces:
      - application/json
      responses:
        "201":
          description: Break updated successfully
          schema:
            $ref: '#/definitions/model.BreakUpdateResponse'
      security:
      - BearerAuth: []
      summary: Update break status
      tags:
      - Break
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
